{% if code is not defined %}
    {% set code = '500' %}
{% endif %}

{% if code == 404 %}
    {% set title = __('micro-framework.view.error.not_found') %}
    {% set message = __('micro-framework.view.error.page_not_found') %}
{% elseif code == 401 %}
    {% set title = __('micro-framework.view.error.unauthorized') %}
    {% set message = __('micro-framework.view.error.auth_fail') %}
{% else %}
    {% set code = 500 %}
    {% set title = __('micro-framework.view.error.server_error') %}
    {% set message = __('micro-framework.view.error.unexpected_error') %}
{% endif %}

<html lang="en">
    <head>
        <title>{{ __('micro-framework.view.error.error') }} {{ code }}</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js" integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css" integrity="sha512-ELV+xyi8IhEApPS/pSj66+Jiw+sOT1Mqkzlh8ExXihe4zfqbWkxPRi8wptXIO9g73FSlhmquFlUOuMSoXz5IRw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <style>
            body {
                overflow: auto;
            }
            * { position: relative; margin: 0; padding: 0; box-sizing: border-box; }
            h1 { margin-bottom: 50px; font-family: 'Lato', sans-serif; font-size: 50px; }
            .message { font-size: 0.4em; margin-top: 8px; }
        </style>
    </head>
    <body style="width: 100%; height: 100%;">
        <div class="p-4">
            <center>
                <h1>
                    {{ code }} {{ title }}
                    <div class="message" style="text-align: center;">{{ message }}</div>
                </h1>
            </center>

            {% if debug != false %}
                {% if hiddenMessage != false %}
                    <div class="alert alert-danger">{{ hiddenMessage }}</div>
                {% endif %}

                <div class="alert alert-info"><pre>{{ debug }}</pre></div>
            {% endif %}
        </div>
    </body>
</html>